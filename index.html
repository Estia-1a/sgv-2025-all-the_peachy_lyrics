<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Chistera - Application de bien-être et santé. Suivez votre sommeil, nutrition, sport et stress.">
  <meta name="theme-color" content="#0ea5e9">
  <title>Chistera - Connexion</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/mobile.css">
   
  <link rel="stylesheet" href="styles/desktop.css" media="screen and (min-width: 768px)"> 
</head>
<body>
  <div id="bg-overlay" aria-hidden="true"></div>
  <a href="#main-content" class="skip-link">Aller au contenu principal</a>
  <main class="phone" id="main-content">
    <div class="notch" aria-hidden="true"></div>
    <div class="screen">
      <div id="view-auth" class="wrap">
        <div class="brand" aria-labelledby="title">
          <img src="Logo.png" alt="Logo Chistera" class="logo-img">
          <h1 id="title" class="title">Bienvenue&nbsp;!</h1>
          <p class="subtitle">Ongi etorri sur Chistera, votre équilibre, notre priorité.</p>
        </div>
        <div id="login-view">
          <form onsubmit="return handleSubmit(event)">
            <div class="field">
              <label for="id">Identifiant</label>
              <input id="id" name="identifiant" class="input" type="text" placeholder="Identifiant" required autocomplete="username">
            </div>
            <div class="field">
              <label for="pwd">Mot de passe</label>
              <div class="input-wrapper">
                <input id="pwd" name="motdepasse" class="input" type="password" placeholder="Mot de passe" required autocomplete="current-password">
                <button type="button" class="toggle-pass" aria-label="Afficher le mot de passe" onclick="togglePassword('pwd')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
              </div>
            </div>
            <button class="btn" type="submit">Valider</button>
          </form>
          <div class="switch-auth">
            Nouveau sur la plateforme ? <button type="button" onclick="toggleAuth(event)" style="background:none; border:none; color:#fff; text-decoration:underline; font-weight:600; cursor:pointer;">Créer un compte !</button>
          </div>
        </div>

        <div id="register-view" class="hidden">
          <form onsubmit="return handleRegister(event)">
            <div class="field">
              <label for="reg-id">Identifiant</label>
              <input id="reg-id" name="identifiant" class="input" type="text" placeholder="Choisissez un identifiant" required autocomplete="username">
            </div>
            <div class="field">
              <label for="reg-pwd">Mot de passe</label>
              <div class="input-wrapper">
                <input id="reg-pwd" name="motdepasse" class="input" type="password" placeholder="Créez un mot de passe" required autocomplete="new-password">
                <button type="button" class="toggle-pass" aria-label="Afficher le mot de passe" onclick="togglePassword('reg-pwd')">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                </button>
              </div>
            </div>
            <div class="field">
              <label for="dob">Date de naissance</label>
              <input id="dob" name="dob" class="input" type="date" required>
            </div>
            <div class="field">
              <label for="sex">Sexe</label>
              <select id="sex" name="sex" class="input select">
                <option value="" disabled selected>Sélectionner</option>
                <option value="F">Femme</option>
                <option value="H">Homme</option>
                <option value="O">Autre</option>
              </select>
            </div>
            <button class="btn" type="submit">S'inscrire</button>
          </form>
          <div class="switch-auth">
            Déjà un compte ? <button type="button" onclick="toggleAuth(event)" style="background:none; border:none; color:#fff; text-decoration:underline; font-weight:600; cursor:pointer;">Se connecter</button>
          </div>
        </div>
        <p class="tagline">Prenez soin de vous, simplement, naturellement.</p>
        
        <div class="social-links">
          <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
            </svg>
          </a>
          <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </svg>
          </a>
          <a href="https://snapchat.com" target="_blank" rel="noopener noreferrer" aria-label="Snapchat">
            <svg class="social-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12.206.793c.99 0 4.347.276 5.93 3.821.529 1.193.403 3.219.299 4.847l-.003.06c-.012.18-.022.345-.03.51.075.045.203.09.401.09.3-.016.659-.12 1.033-.301.165-.088.344-.104.464-.104.182 0 .359.029.509.09.45.149.734.479.734.838.015.449-.39.839-1.213 1.168-.089.029-.209.075-.344.119-.45.135-1.139.36-1.333.81-.09.224-.061.524.12.868l.015.015c.06.136 1.526 3.475 4.791 4.014.255.044.435.27.42.509 0 .075-.015.149-.045.225-.24.569-1.273.988-3.146 1.271-.059.091-.12.375-.164.57-.029.179-.074.36-.134.553-.076.271-.27.405-.555.405h-.03c-.135 0-.313-.031-.538-.074-.36-.075-.765-.135-1.273-.135-.3 0-.599.015-.913.074-.6.104-1.123.464-1.723.884-.853.599-1.826 1.288-3.294 1.288-.06 0-.119-.015-.18-.015h-.149c-1.468 0-2.427-.675-3.279-1.288-.599-.42-1.107-.779-1.707-.884-.314-.045-.629-.074-.928-.074-.54 0-.958.089-1.272.149-.211.043-.391.074-.54.074-.374 0-.523-.224-.583-.42-.061-.192-.09-.389-.135-.567-.046-.181-.105-.494-.166-.57-1.918-.222-2.95-.642-3.189-1.226-.031-.063-.052-.15-.055-.225-.015-.243.165-.465.42-.509 3.264-.54 4.73-3.879 4.791-4.02l.016-.029c.18-.345.224-.645.119-.869-.195-.434-.884-.658-1.332-.809-.121-.029-.24-.074-.346-.119-1.107-.435-1.257-.93-1.197-1.273.09-.479.674-.793 1.168-.793.146 0 .27.029.383.074.42.194.789.3 1.104.3.234 0 .384-.06.465-.105l-.046-.569c-.098-1.626-.225-3.651.307-4.837C7.392 1.077 10.739.807 11.727.807l.419-.015h.06z"/>
            </svg>
          </a>
        </div>

        <p class="legal">
          En cliquant sur &nbsp;Valider&nbsp;, vous acceptez les conditions d'utilisation de Chistera.<br>
          <a href="conditions.html">Conditions d'utilisation</a>  <a href="privacy.html">Politique de confidentialité</a>
        </p>
      </div>

      <!-- PAGE 1 : Accueil / Tableau de bord -->
      <div id="view-home" class="wrap hidden">
        <header class="home-header">
          <div>
            <h1 class="home-title">Bonjour <span id="user-display">!</span></h1>
            <p class="home-subtitle">Prenez soin de vous simplement, naturellement</p>
          </div>
          <button class="menu-btn" onclick="toggleMenu()" aria-label="Menu">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
        </header>
        <div id="menu-panel" class="menu-panel hidden" role="navigation" aria-label="Menu principal">
          <h2 class="menu-title">Menu</h2>
          <ul class="menu-list">
            <li class="menu-item">
              <span class="menu-number">1</span>
              <a href="#" onclick="showHome(); toggleMenu(); return false;">Tableau de bord</a>
            </li>
            <li class="menu-item">
              <span class="menu-number">2</span>
              <a href="#" onclick="showDashboard(); toggleMenu(); return false;">Mon profil</a>
            </li>
            <li class="menu-item">
              <span class="menu-number">3</span>
              <a href="#" onclick="showAdvice(); toggleMenu(); return false;">Conseils</a>
            </li>
          </ul>
        </div>

        <!-- SECTION HAUTE : 3 cartes statistiques -->
        <div class="stats-container">
          <!-- Carte 1: Sommeil (barres) -->
          <div class="stat-card">
            <h3 class="stat-card-title">Sommeil <span class="card-arrow" title="Voir plus">→</span></h3>
            <div class="chart-wrapper">
              <div class="bar-chart" data-type="sleep">
                <div class="bar">
                  <div class="bar-value">6</div>
                  <div class="bar-fill" style="height: 0px;"></div>
                  <div class="bar-label">J-3</div>
                </div>
                <div class="bar">
                  <div class="bar-value">7</div>
                  <div class="bar-fill alt" style="height: 0px;"></div>
                  <div class="bar-label">J-2</div>
                </div>
                <div class="bar">
                  <div class="bar-value">7.5</div>
                  <div class="bar-fill" style="height: 0px;"></div>
                  <div class="bar-label">J-1</div>
                </div>
                <div class="bar">
                  <div class="bar-value">8</div>
                  <div class="bar-fill alt" style="height: 0px;"></div>
                  <div class="bar-label">Auj.</div>
                </div>
              </div>
            </div>
            <div class="stat-explanation"><strong>EXPLICATION SOMMEIL</strong><br>Durée moyenne de sommeil sur les derniers jours. Un sommeil réparateur favorise la récupération et les performances.</div>
          </div>

          <!-- Carte 2: Composition corporelle -->
          <div class="stat-card">
            <h3 class="stat-card-title">Composition corporelle <span class="card-arrow" title="Voir plus">→</span></h3>
            <div class="chart-wrapper" style="align-items:stretch;">
              <div style="flex:1; display:flex; align-items:center; padding-right: 16px;">
                <ul class="composition-list" style="margin:0; padding:0; width:100%;">
                  <li class="composition-item"><div class="composition-label"><span class="color-dot" style="background:#0ea5e9"></span> Gras</div></li>
                  <li class="composition-item"><div class="composition-label"><span class="color-dot" style="background:#1e3a5f"></span> Muscles</div></li>
                </ul>
              </div>
              <div style="flex:1; display:flex; align-items:center; justify-content:center;">
                <div class="pie-chart" aria-hidden="true"></div>
              </div>
            </div>
            <div class="stat-explanation"><strong>EXPLICATION Corps</strong><br>Répartition simplifiée entre graisse et muscles. Utilisez ces chiffres comme indication générale.</div>
          </div>

          <!-- Carte 3: Le stress (courbe) -->
          <div class="stat-card">
            <h3 class="stat-card-title">Le stress <span class="card-arrow" title="Voir plus">→</span></h3>
            <div class="chart-wrapper">
              <div class="line-chart-container">
                <div class="line-chart-axis">
                  <span>Nombre de pics</span>
                </div>
                <div class="line-chart" data-points="12,18,15,22,28,24,30">
                  <svg viewBox="0 0 100 40" preserveAspectRatio="none" aria-hidden="true">
                    <polyline class="line" points=""/>
                    <polyline class="line-foreground" points=""/>
                  </svg>
                </div>
                <div class="line-chart-label">Jour</div>
              </div>
            </div>
            <div class="stat-explanation"><strong>EXPLICATION Stress</strong><br>Évolution du niveau de stress sur la période récente. Des pics peuvent indiquer des facteurs ponctuels à surveiller.</div>
          </div>
        </div>

        <!-- SECTION RÉSEAUX SOCIAUX -->
        <div class="social-section">
          <p class="social-text">Et si tu nous rejoignais aussi... <strong>sur TOUS</strong><br><strong>nos réseaux sociaux</strong> ?</p>
          <div class="social-scroll-indicator">
            <span>↓</span>
            <span class="scroll-text">Déroulez !</span>
          </div>
        </div>

        <!-- SECTION BASSE : Grille détaillée -->
        <div class="dashboard-lower">
          <!-- Colonne 1 : Mon sport -->
          <div class="dashboard-col">
            <div class="dash-card">
              <h3 class="dash-card-title">Mon sport, mes prouesses !</h3>
              <div class="sport-prouesse">
                <div class="prouesse-avatar">😊</div>
                <div class="prouesse-info">
                  <div class="prouesse-congrats">Félicitation !</div>
                  <div>Tu es le</div>
                  <div class="prouesse-rank">7ème</div>
                  <div>Plus grand coureur de Chistera !</div>
                </div>
              </div>
            </div>

            <div class="dash-card">
              <div class="dash-card-header">
                <h3 class="dash-card-title">Mes informations de coureur</h3>
                <span class="dash-arrow">→</span>
              </div>
              <div class="coureur-grid">
                <div class="objectifs-section">
                  <div class="objectifs-title">Mes objectifs<br><span>de coureur</span></div>
                  <div class="objectifs-list">
                    <label><input type="checkbox" checked> 5km</label>
                    <label><input type="checkbox" checked> 10 km</label>
                    <label><input type="checkbox" checked> 15 km</label>
                    <label><input type="checkbox"> 25 km</label>
                    <label><input type="checkbox"> 35 km</label>
                    <label><input type="checkbox"> 45 km</label>
                  </div>
                </div>
              </div>
            </div>

            <div class="dash-card">
              <div class="dash-card-header">
                <h3 class="dash-card-title">Mes circuits</h3>
                <span class="dash-arrow">→</span>
              </div>
              <div class="circuits-preview">
                <div class="circuit-thumb" style="background-image: url('https://images.unsplash.com/photo-1551632811-561732d1e306?auto=format&fit=crop&w=150&q=80');"></div>
              </div>
            </div>
          </div>

          <!-- Colonne 2 : Poids et alimentation -->
          <div class="dashboard-col">
            <div class="dash-card">
              <div class="dash-card-header">
                <h3 class="dash-card-title">Poids et alimentation</h3>
                <span class="dash-arrow">→</span>
              </div>
              <div class="poids-section">
                <div class="poids-value">
                  <span class="poids-label">Poids</span>
                  <span class="poids-number">75</span>
                  <span class="poids-unit">Kg</span>
                </div>
              </div>
            </div>

            <div class="dash-card">
              <div class="dash-card-header">
                <h3 class="dash-card-title">Mes repas</h3>
                <span class="dash-arrow">→</span>
              </div>
              <div class="repas-section">
                <div class="repas-title">Composition moyenne</div>
                <div class="repas-content">
                  <ul class="repas-legend">
                    <li><span class="dot" style="background:#ef4444"></span> Lipides</li>
                    <li><span class="dot" style="background:#22c55e"></span> Glucides</li>
                    <li><span class="dot" style="background:#3b82f6"></span> Protéines</li>
                  </ul>
                  <div class="repas-pie">
                    <div class="pie-chart small-pie" style="width:100px; height:100px; background: conic-gradient(#ef4444 0deg 120deg, #22c55e 120deg 240deg, #3b82f6 240deg 360deg);"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Colonne 3 : Récupération -->
          <div class="dashboard-col">
            <div class="dash-card">
              <h3 class="dash-card-title">La récupération</h3>
              
              <div class="recup-block">
                <div class="dash-card-header">
                  <span class="recup-subtitle">Besoin d'étirements ?</span>
                  <span class="dash-arrow">→</span>
                </div>
                <p class="recup-desc">N'hésite pas à venir checker nos tutos !</p>
                <div class="video-placeholder">
                  <div class="video-controls">
                    <span class="video-play">▶</span>
                    <div class="video-progress"></div>
                    <span class="video-volume">🔊</span>
                  </div>
                </div>
              </div>

              <div class="recup-block">
                <div class="dash-card-header">
                  <span class="recup-subtitle">Pourquoi bien s'hydrater ?</span>
                  <span class="dash-arrow">→</span>
                </div>
                <p class="recup-desc">Voici quelques vidéos explicatives pour savoir comment bien récupérer après une activité physique !</p>
                <div class="video-placeholder">
                  <div class="video-controls">
                    <span class="video-play">▶</span>
                    <div class="video-progress"></div>
                    <span class="video-volume">🔊</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- PAGE 2.5 : Mon Profil -->
      <div id="view-dashboard" class="wrap hidden">
        <div class="profile-page">
          <!-- Section Avatar -->
          <div class="profile-avatar-section">
            <div class="profile-avatar-box">
              <div class="profile-avatar-icon">😊</div>
            </div>
          </div>

          <!-- Section Informations -->
          <div class="profile-info-section">
            <div class="profile-info-card">
              <div class="profile-info-row">
                <span class="profile-info-label">Nom</span>
                <span class="profile-info-value" id="profile-nom">X</span>
              </div>
              <div class="profile-info-row">
                <span class="profile-info-label">Prénom</span>
                <span class="profile-info-value" id="profile-prenom">X</span>
              </div>
              <div class="profile-info-row">
                <span class="profile-info-label">Date de naissance</span>
                <span class="profile-info-value" id="profile-dob">X</span>
              </div>
              <div class="profile-info-row">
                <span class="profile-info-label">Adresse postale</span>
                <span class="profile-info-value" id="profile-adresse">X</span>
              </div>
              <div class="profile-info-row">
                <span class="profile-info-label">Mail</span>
                <span class="profile-info-value" id="profile-mail">X</span>
              </div>
              <div class="profile-info-row">
                <span class="profile-info-label">Téléphone</span>
                <span class="profile-info-value" id="profile-tel">X</span>
              </div>
            </div>
          </div>

          <!-- Boutons en bas -->
          <div class="profile-actions">
            <button class="profile-btn profile-btn-back" onclick="showHome()" aria-label="Retour au tableau de bord">
              ← Retour
            </button>
            <button class="profile-btn profile-btn-logout" onclick="handleLogout()" aria-label="Se déconnecter">
              Déconnexion
            </button>
          </div>
        </div>
      </div>

      <!-- PAGE 3 : Conseils Personnalisés -->
      <div id="view-advice" class="wrap hidden">
        <!-- Header avec retour -->
        <div class="advice-header">
          <button class="advice-back-btn" onclick="showHome()" aria-label="Retour au tableau de bord">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
          </button>
          <h2 class="advice-title">Conseils personnalisés</h2>
          <div aria-hidden="true" style="width:24px;"></div>
        </div>

        <!-- Filtre par catégorie -->
        <div class="advice-filter">
          <button class="filter-btn active" data-filter="all">Tous</button>
          <button class="filter-btn" data-filter="nutrition">🥗 Nutrition</button>
          <button class="filter-btn" data-filter="sport">🏃 Sport</button>
          <button class="filter-btn" data-filter="sommeil">😴 Sommeil</button>
          <button class="filter-btn" data-filter="stress">🧘 Bien-être</button>
        </div>

        <!-- Grille de conseils -->
        <div class="advice-grid">
          <!-- Conseil 1 : Nutrition -->
          <div class="advice-card" data-category="nutrition">
            <div class="advice-card-image">
              <img src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd?auto=format&fit=crop&w=400&q=80" alt="Nutrition">
              <span class="advice-card-badge">🥗 Nutrition</span>
            </div>
            <div class="advice-card-content">
              <h3 class="advice-card-title">Mangez équilibré</h3>
              <p class="advice-card-text">Privilégiez les fruits et légumes de saison. Visez 5 portions par jour pour un apport optimal en vitamines.</p>
              <div class="advice-card-footer">
                <span class="advice-card-time">📖 3 min</span>
                <button class="advice-card-btn">Lire plus →</button>
              </div>
            </div>
          </div>

          <!-- Conseil 2 : Sport -->
          <div class="advice-card" data-category="sport">
            <div class="advice-card-image">
              <img src="https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?auto=format&fit=crop&w=400&q=80" alt="Sport">
              <span class="advice-card-badge">🏃 Sport</span>
            </div>
            <div class="advice-card-content">
              <h3 class="advice-card-title">Bougez régulièrement</h3>
              <p class="advice-card-text">30 minutes d'activité physique par jour suffisent pour maintenir une bonne santé cardiovasculaire.</p>
              <div class="advice-card-footer">
                <span class="advice-card-time">📖 4 min</span>
                <button class="advice-card-btn">Lire plus →</button>
              </div>
            </div>
          </div>

          <!-- Conseil 3 : Sommeil -->
          <div class="advice-card" data-category="sommeil">
            <div class="advice-card-image">
              <img src="https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&w=400&q=80" alt="Sommeil">
              <span class="advice-card-badge">😴 Sommeil</span>
            </div>
            <div class="advice-card-content">
              <h3 class="advice-card-title">Dormez suffisamment</h3>
              <p class="advice-card-text">7 à 9 heures de sommeil sont recommandées. Évitez les écrans 1h avant de dormir.</p>
              <div class="advice-card-footer">
                <span class="advice-card-time">📖 5 min</span>
                <button class="advice-card-btn">Lire plus →</button>
              </div>
            </div>
          </div>

          <!-- Conseil 4 : Bien-être -->
          <div class="advice-card" data-category="stress">
            <div class="advice-card-image">
              <img src="https://images.unsplash.com/photo-1544367563-12123d8965cd?auto=format&fit=crop&w=400&q=80" alt="Bien-être">
              <span class="advice-card-badge">🧘 Bien-être</span>
            </div>
            <div class="advice-card-content">
              <h3 class="advice-card-title">Gérez votre stress</h3>
              <p class="advice-card-text">Pratiquez la respiration profonde et la méditation pour réduire le stress quotidien.</p>
              <div class="advice-card-footer">
                <span class="advice-card-time">📖 3 min</span>
                <button class="advice-card-btn">Lire plus →</button>
              </div>
            </div>
          </div>

          <!-- Conseil 5 : Hydratation -->
          <div class="advice-card" data-category="nutrition">
            <div class="advice-card-image">
              <img src="https://images.unsplash.com/photo-1559839914-17aae19cec71?auto=format&fit=crop&w=400&q=80" alt="Hydratation">
              <span class="advice-card-badge">🥗 Nutrition</span>
            </div>
            <div class="advice-card-content">
              <h3 class="advice-card-title">Hydratez-vous</h3>
              <p class="advice-card-text">Buvez au moins 1,5L d'eau par jour. Augmentez cette quantité lors d'activités sportives.</p>
              <div class="advice-card-footer">
                <span class="advice-card-time">📖 2 min</span>
                <button class="advice-card-btn">Lire plus →</button>
              </div>
            </div>
          </div>

          <!-- Conseil 6 : Étirements -->
          <div class="advice-card" data-category="sport">
            <div class="advice-card-image">
              <img src="https://images.unsplash.com/photo-1518611012118-696072aa579a?auto=format&fit=crop&w=400&q=80" alt="Étirements">
              <span class="advice-card-badge">🏃 Sport</span>
            </div>
            <div class="advice-card-content">
              <h3 class="advice-card-title">Étirez-vous</h3>
              <p class="advice-card-text">Les étirements après l'effort réduisent les courbatures et améliorent la récupération.</p>
              <div class="advice-card-footer">
                <span class="advice-card-time">📖 4 min</span>
                <button class="advice-card-btn">Lire plus →</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script>
    function togglePassword(fieldId){
      const input = document.getElementById(fieldId);
      input.type = input.type === 'password' ? 'text' : 'password';
    }

    function toggleAuth(e) {
      e.preventDefault();
      const loginView = document.getElementById('login-view');
      const registerView = document.getElementById('register-view');
      const title = document.getElementById('title');
      
      if (loginView.classList.contains('hidden')) {
        loginView.classList.remove('hidden');
        registerView.classList.add('hidden');
        title.textContent = 'Bienvenue\u00A0!';
      } else {
        loginView.classList.add('hidden');
        registerView.classList.remove('hidden');
        title.textContent = 'Inscription';
      }
    }

    function toggleMenu() {
      const menu = document.getElementById('menu-panel');
      menu.classList.toggle('hidden');
    }

    function showHome() {
      document.getElementById('view-auth').classList.add('hidden');
      document.getElementById('view-advice').classList.add('hidden');
      document.getElementById('view-dashboard').classList.add('hidden');
      document.getElementById('view-home').classList.remove('hidden');
      document.body.classList.add('is-home-view'); // Active le mode plein écran sur PC
      // Re-render charts after the view becomes visible
      setTimeout(() => { renderCharts(); renderLineCharts(); }, 60);
    }

    function showAdvice() {
      document.getElementById('view-home').classList.add('hidden');
      document.getElementById('view-dashboard').classList.add('hidden');
      document.getElementById('view-advice').classList.remove('hidden');
      document.body.classList.add('is-home-view'); // Reste en plein ?cran sur PC
      setTimeout(() => { renderCharts(); renderLineCharts(); }, 60);
    }

    function showDashboard() {
      document.getElementById('view-home').classList.add('hidden');
      document.getElementById('view-advice').classList.add('hidden');
      document.getElementById('view-dashboard').classList.remove('hidden');
      document.body.classList.add('is-home-view');
      setTimeout(() => { renderCharts(); renderLineCharts(); }, 60);
    }

    function handleLogout() {
      // Retour à la page de connexion
      document.getElementById('view-home').classList.add('hidden');
      document.getElementById('view-advice').classList.add('hidden');
      document.getElementById('view-dashboard').classList.add('hidden');
      document.getElementById('view-auth').classList.remove('hidden');
      document.body.classList.remove('is-home-view');
      // Reset du formulaire
      document.getElementById('id').value = '';
      document.getElementById('pwd').value = '';
    }

    function handleSubmit(e){
      e.preventDefault();
      // Récupérer l'identifiant et l'afficher
      const identifiant = document.getElementById('id').value;
      const userDisplay = document.getElementById('user-display');
      if (identifiant && userDisplay) {
        userDisplay.textContent = identifiant + ' !';
      }
      showHome();
      return false;
    }

    function handleRegister(e){
      e.preventDefault();
      // Récupérer l'identifiant et l'afficher
      const identifiant = document.getElementById('reg-id').value;
      const userDisplay = document.getElementById('user-display');
      if (identifiant && userDisplay) {
        userDisplay.textContent = identifiant + ' !';
      }
      showHome();
      return false;
    }
    
    /* Charts: make bar heights responsive from values and adapt on resize */
    function renderCharts(){
      document.querySelectorAll('.bar-chart').forEach(chart => {
        const bars = Array.from(chart.querySelectorAll('.bar'));
        if (!bars.length) return;
        const values = bars.map(b => {
          const vEl = b.querySelector('.bar-value');
          const n = vEl ? parseFloat(vEl.textContent) : 0;
          return isNaN(n) ? 0 : n;
        });
        const max = Math.max(...values, 1);
        // compute available height robustly
        let chartHeight = chart.clientHeight || chart.getBoundingClientRect().height || parseFloat(getComputedStyle(chart).height) || 160;
        // if chart is inside a container with no height yet, try measuring inner available space
        if (!chartHeight || chartHeight < 40) {
          chartHeight = 160;
        }
        bars.forEach((b, i) => {
          const fill = b.querySelector('.bar-fill');
          if (!fill) return;
          const pct = values[i] / max;
          // reserve space for labels and ensure min height
          const h = Math.max(6, Math.round(pct * (chartHeight - 36)));
          fill.style.height = h + 'px';
        });
      });
    }

      /* Render simple line charts from data-points attribute */
      function renderLineCharts(){
        document.querySelectorAll('.line-chart').forEach(node => {
          const svg = node.querySelector('svg');
          if (!svg) return;
          const pointsAttr = node.getAttribute('data-points') || '';
          const values = pointsAttr.split(',').map(s => parseFloat(s)).filter(n => !isNaN(n));
          if (!values.length) return;
          const w = svg.viewBox.baseVal.width || 100;
          const h = svg.viewBox.baseVal.height || 40;
          const max = Math.max(...values);
          const min = Math.min(...values);
          const range = Math.max(1, max - min);
          const stepX = w / Math.max(1, values.length - 1);
          const points = values.map((v,i) => {
            const x = (i * stepX).toFixed(2);
            // invert y (SVG origin top-left)
            const y = (h - ((v - min) / range) * (h - 6) - 3).toFixed(2);
            return x + ',' + y;
          }).join(' ');
          const bgLine = svg.querySelector('.line');
          const fgLine = svg.querySelector('.line-foreground');
          if (bgLine) bgLine.setAttribute('points', points);
          if (fgLine) fgLine.setAttribute('points', points);
        });
      }

    // Filtrage des conseils par catégorie
    function initAdviceFilter() {
      const filterBtns = document.querySelectorAll('.filter-btn');
      const cards = document.querySelectorAll('.advice-card');
      
      filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          // Update active state
          filterBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          
          const filter = btn.dataset.filter;
          
          // Show/hide cards
          cards.forEach(card => {
            if (filter === 'all' || card.dataset.category === filter) {
              card.classList.remove('hidden');
            } else {
              card.classList.add('hidden');
            }
          });
        });
      });
    }

    document.addEventListener('DOMContentLoaded', () => { 
      renderCharts(); 
      renderLineCharts(); 
      initAdviceFilter();
    });
    window.addEventListener('resize', () => { renderCharts(); renderLineCharts(); });
  </script>
</body>
</html>





