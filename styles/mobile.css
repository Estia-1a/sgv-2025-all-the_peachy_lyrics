    :root{
      --bg:#0b0f14;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#5b6578;
      --primary:#0ea5e9;
      --primary-ink:#0b4660;
      --focus:#94d5f5;
      --border:#e6e8ee;
      --success:#16a34a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text);
      background-image: url('https://images.unsplash.com/photo-1511497584788-876760111969?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      display:grid; place-items:center; padding:24px;
      position: relative;
    }
    #bg-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.28);
      pointer-events: none;
      z-index: 0;
    }
    .phone{
      width:min(420px, 92vw); aspect-ratio:9/19.5; border:12px solid #12161c; border-radius:38px; background:#0a0e13; box-shadow:0 10px 40px #0008;
      padding:16px; position: relative; z-index: 2;
    }
    .notch{ position:absolute; inset:8px 50% auto; transform:translateX(-50%); width:40%; height:14px; background:#0a0e13; border-radius:10px; box-shadow:inset 0 -1px 0 #000; }
    .screen{
      position:absolute; inset:16px; background:linear-gradient(#f6f8fb, #eef2f7); border-radius:26px; overflow:auto; scrollbar-width:none; -ms-overflow-style:none;
    }
    .screen::-webkit-scrollbar{ display:none }
    .wrap{ min-height:100%; padding:28px 22px 20px; display:flex; flex-direction:column; align-items:center; gap:22px; }
    .brand{ text-align:center; }
    .logo{ width:56px; height:56px; border-radius:14px; background:conic-gradient(from 210deg, var(--primary), #22c55e); display:grid; place-items:center; color:#fff; font-weight:800; letter-spacing:0.5px; }
    .logo-img { width: 80px; height: 80px; margin-bottom: 10px; display: block; margin-left: auto; margin-right: auto; border-radius: 16px; object-fit: cover; }
    .title{ font-size:40px; line-height:1; margin:10px 0 6px; font-weight:800; }
    .subtitle{ font-size:12px; color:var(--muted); max-width:26ch; margin:0 auto; }
    form{ width:100%; max-width:320px; display:flex; flex-direction:column; gap:12px; }
    label{ font-size:12px; color:var(--muted); margin-left:2px; }
    .field{ position:relative; }
    .input{
      width:100%; padding:12px 14px; padding-right: 40px; border:1px solid var(--border); border-radius:12px; background:#fff; color:var(--text);
      outline:none; transition:border-color .2s, box-shadow .2s;
    }
    .input::placeholder{ color:#9aa3b2 }
    .input:focus{ border-color:var(--primary); box-shadow:0 0 0 4px var(--focus) inset; }
    .input-wrapper { position: relative; }
    .toggle-pass{ position:absolute; right: 0; top: 0; bottom: 0; width: 40px; display:flex; align-items:center; justify-content:center; border:0; background:transparent; cursor:pointer; color:var(--muted); padding: 0; }
    .hidden { display: none !important; }
    .switch-auth { font-size: 12px; color: var(--text); text-align: center; margin-top: 16px; }
    .switch-auth a { color: var(--primary); text-decoration: none; font-weight: 600; }
    .switch-auth a:hover { text-decoration: underline; }
    select.input { appearance: none; background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%235b6578%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"); background-repeat: no-repeat; background-position: right .7em top 50%; background-size: .65em auto; }
    .btn{
      appearance:none; border:0; background:linear-gradient(180deg, var(--primary), #0284c7);
      color:#fff; font-weight:700; padding:12px 16px; border-radius:12px; cursor:pointer; box-shadow:0 6px 16px #0ea5e977; transition:transform .06s ease;
    }
    .btn:active{ transform:translateY(1px) }
    .chips{ display:flex; gap:8px; justify-content:center; margin-top:2px; }
    .chip{ padding:6px 10px; border:1px dashed var(--border); border-radius:10px; font-size:11px; color:var(--muted); background:#fff; }
    .tagline{ text-align:center; color:#374151; font-size:13px; max-width:26ch; }
    .legal{ text-align:center; font-size:11px; color:var(--muted); max-width:34ch; margin-top:auto; }
    .legal a{ color:var(--primary-ink); text-decoration:none; border-bottom:1px solid #0000; }
    .legal a:hover{ border-bottom-color:currentColor }
    .social-links { display: flex; gap: 16px; justify-content: center; margin-top: 10px; }
    .social-icon { width: 24px; height: 24px; fill: var(--muted); transition: fill 0.2s; }
    .social-icon:hover { fill: var(--primary); }
    @media (prefers-color-scheme: dark){
      .screen{ background:linear-gradient(#0b1220, #0d1424) }
      .title, .tagline{ color:#e5e7eb }
      .subtitle, .legal{ color:#a3adc2 }
      .input{ background:#0f172a; border-color:#1f2937; color:#e5e7eb }
      .input::placeholder{ color:#8fa0b4 }
      .chip{ background:#0f172a; border-color:#1f2937; color:#9db0c6 }
      .social-icon { fill: #9db0c6; }
    }
    
    /* Styles pour la Page 1 (Accueil/Dashboard) */
    .home-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      width: 100%;
      margin-bottom: 20px;
    }
    .home-title {
      font-size: 28px;
      font-weight: 800;
      margin: 0 0 4px 0;
      color: var(--text);
    }
    .home-subtitle {
      font-size: 12px;
      color: var(--muted);
      margin: 0;
      max-width: 200px;
    }
    .menu-btn {
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      color: var(--text);
    }
    .menu-panel {
      position: absolute;
      top: 60px;
      right: 16px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      min-width: 150px;
      z-index: 10;
    }
    
    /* Fond visible (laisse voir l'image de ody) pour la page d'accueil */
    #view-home {
      background-color: transparent;
      min-height: 100%;
      color: #0f172a;
    }

    /* Styles pour la Page Conseils (Carousel + Dropdown) */
    .advice-title {
      font-size: 22px;
      font-weight: 700;
      text-align: center;
      margin: 10px 0 20px;
    }
    .carousel-container {
      width: 100%;
      margin-bottom: 30px;
      perspective: 1000px; /* Pour un effet 3D ?ventuel */
    }
    .carousel {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      padding: 10px 4px;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
    }
    .carousel::-webkit-scrollbar { display: none; }
    .carousel-item {
      flex: 0 0 140px;
      height: 140px;
      background-color: #fff;
      border: 1px solid var(--border);
      border-radius: 16px;
      scroll-snap-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    .carousel-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .dropdown-wrapper {
      background-color: #e5e7eb; /* Gris clair comme sur le croquis */
      border-radius: 8px;
      padding: 0 12px;
      display: flex;
      align-items: center;
      height: 48px;
      position: relative;
    }
    .dropdown-icon-left {
      margin-right: 12px;
      color: #374151;
    }
    .dropdown-select {
      appearance: none;
      background: transparent;
      border: none;
      width: 100%;
      height: 100%;
      font-family: inherit;
      font-size: 14px;
      color: #1f2937;
      outline: none;
      cursor: pointer;
    }
    .dropdown-icon-right {
      position: absolute;
      right: 12px;
      pointer-events: none;
      color: #374151;
    }

    /* Styles pour la page Dashboard */
    .dashboard-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      width: 100%;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      width: 100%;
    }

    .dashboard-back-btn {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      color: var(--text);
    }

    .dashboard-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text);
      margin: 0;
    }

    .dashboard-card {
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .dashboard-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .dashboard-card-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
    }

    .dashboard-card-arrow {
      color: var(--muted);
      font-size: 16px;
    }

    .dashboard-objectives {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .dashboard-objective-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: var(--text);
    }

    .dashboard-objective-checkbox {
      width: 16px;
      height: 16px;
      border: 2px solid var(--border);
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .dashboard-circuits {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 8px 0;
    }

    .dashboard-circuits::-webkit-scrollbar {
      display: none;
    }

    .dashboard-circuit-item {
      flex: 0 0 70px;
      height: 70px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border: 1px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .dashboard-runner-avatar {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border: 2px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
    }

    .dashboard-runner-info {
      flex: 1;
    }

    .dashboard-runner-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
    }

    .dashboard-runner-subtitle {
      font-size: 12px;
      color: var(--muted);
    }

    .dashboard-runner-level {
      font-size: 20px;
      font-weight: 800;
      color: var(--primary);
      line-height: 1;
    }

    .dashboard-section-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 20px;
    }

    .dashboard-video-placeholder {
      width: 100%;
      height: 150px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border: 1px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .dashboard-video-icon {
      width: 40px;
      height: 40px;
      background: rgba(0,0,0,0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--muted);
    }

    .dashboard-video-controls {
      position: absolute;
      bottom: 8px;
      left: 8px;
      right: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
    }

    .dashboard-video-slider {
      flex: 1;
      height: 4px;
      background: var(--border);
      border-radius: 2px;
      cursor: pointer;
    }

    .dashboard-video-time {
      color: var(--muted);
      font-size: 10px;
    }

    @media (prefers-color-scheme: dark) {
      .dashboard-card {
        background: #0f172a;
        border-color: #1f2937;
      }

      .dashboard-circuit-item,
      .dashboard-runner-avatar,
      .dashboard-video-placeholder {
        background: linear-gradient(135deg, #1f2937, #111827);
      }

      .dashboard-title {
        color: #e5e7eb;
      }

      .dashboard-card-title {
        color: #e5e7eb;
      }
    }

    /* Styles pour les graphiques */
    .stats-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 24px;
      margin-top: 24px;
    }

      .stat-card {
      position: relative;
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      display:flex; flex-direction:column; justify-content:flex-start;
    }

    .stat-card-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 18px;
    }

    .chart-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 220px;
    }

    /* Card arrow (top-right) */
    .card-arrow {
      position: absolute;
      top: 12px;
      right: 12px;
      color: var(--muted);
      font-size: 18px;
      cursor: pointer;
    }

    .stat-explanation {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.4;
      margin-top: 12px;
      max-height: 6.4em;
      overflow: hidden;
    }

    /* Line chart (SVG) */
    .line-chart { width: 100%; height: 220px; }
    .line-chart svg { width: 100%; height: 100%; overflow: visible; }
    .line-chart .grid { stroke: rgba(15,23,42,0.06); stroke-width:1; }
    .line-chart .line { fill: none; stroke: rgba(15,23,42,0.12); stroke-width:10; stroke-linecap:round; stroke-linejoin:round; }
    .line-chart .line-foreground { fill: none; stroke: var(--primary); stroke-width:3; stroke-linecap:round; stroke-linejoin:round; }

    /* Force cards to be light on the home fullscreen view (match wireframe) */
    body.is-home-view .stat-card,
    body.is-home-view .dashboard-card,
    body.is-home-view .stat-card .meals-header,
    body.is-home-view .dashboard-lower .dashboard-card {
      background: #fff !important;
      color: var(--text) !important;
      border-color: var(--border) !important;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05) !important;
    }

    /* Force text colors to be dark on PC view (fix for dark mode leak) */
    body.is-home-view .stat-card-title,
    body.is-home-view .composition-label,
    body.is-home-view .bar-value,
    body.is-home-view .legend-item,
    body.is-home-view .trend-value {
      color: var(--text) !important;
    }

    body.is-home-view .stat-explanation,
    body.is-home-view .bar-label,
    body.is-home-view .trend-label,
    body.is-home-view .trend-unit {
      color: #4b5563 !important; /* Darker gray */
    }

    /* ensure small pie & line charts contrast on white cards */
    body.is-home-view .pie-chart::after { background: #fff; }
    body.is-home-view .line-chart .line { stroke: rgba(15,23,42,0.08); stroke-width:6; }
    body.is-home-view .line-chart .line-foreground { stroke: var(--primary); stroke-width:2.5; }

    /* Responsive: stack lower dashboard on small screens */
    @media (max-width: 767px) {
      .dashboard-lower { grid-template-columns: 1fr !important; }
      .dashboard-lower > div { width: 100%; }
    }

    /* Graphique en barres */
    .bar-chart {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 16px;
      height: 200px;
      width: 100%;
    }

    .bar {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .bar-value {
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
      text-align: center;
    }

    .bar-fill {
      width: 32px;
      border-radius: 8px 8px 0 0;
      background: linear-gradient(180deg, #0ea5e9, #0284c7);
      transition: all 0.3s ease;
    }

    .bar-fill:hover {
      opacity: 0.8;
    }

    .bar-fill.alt {
      background: linear-gradient(180deg, #94d5f5, #0ea5e9);
    }

    .bar-label {
      font-size: 11px;
      color: var(--muted);
      text-align: center;
    }

    /* Graphique camembert */
    .pie-chart {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: conic-gradient(#94d5f5 0deg 79deg, #0ea5e9 79deg 216deg, #6366f1 216deg 360deg);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
    }

    .pie-chart::after {
      content: '';
      width: 90px;
      height: 90px;
      border-radius: 50%;
      background: #fff;
    }

    /* Reusable utility classes for dashboard lower area */
    .dashboard-avatar-large { width:96px; height:96px; font-size:40px; border-radius:12px; }
    .profile-row { display:flex; gap:12px; align-items:center; }
    .profile-title { font-size:18px; font-weight:700; color:var(--text); }
    .profile-rank { font-size:24px; font-weight:800; color:var(--text); }
    .profile-sub { font-size:12px; color:var(--muted); }
    .card-hr { border:none; border-top:1px solid var(--border); margin:12px 0; }
    .mini-line { width:120px; height:60px; }
    .meals-pie-small { width:72px; height:72px; }
    .video-placeholder-small { flex:1; background:linear-gradient(135deg,#e5e7eb,#f3f4f6); border-radius:8px; border:1px solid var(--border); }

    .pie-legend {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--text);
    }

    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
    }

    .trend-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 20px;
    }

    .trend-item {
      background: #f3f4f6;
      padding: 12px;
      border-radius: 12px;
      text-align: center;
    }

    .trend-label {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .trend-value {
      font-size: 20px;
      font-weight: 800;
      color: var(--text);
    }

    .trend-unit {
      font-size: 10px;
      color: var(--muted);
      margin-left: 2px;
    }

    .composition-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .composition-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .composition-label {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text);
      font-weight: 500;
    }

    .composition-value {
      font-weight: 700;
      color: var(--primary);
    }

    .color-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    /* Section Mes petits plats */
    .meals-section {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 24px;
      padding: 0;
      width: 100%;
    }

    .meals-header {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 16px;
    }

    .meals-arrow {
      color: var(--muted);
      font-size: 20px;
    }

    .meals-carousel {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding: 12px 0;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
      margin-bottom: 20px;
    }

    .meals-carousel::-webkit-scrollbar {
      display: none;
    }

    .meals-item {
      flex: 0 0 100px;
      height: 100px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      scroll-snap-align: center;
      font-size: 12px;
      color: var(--muted);
      text-align: center;
      padding: 8px;
      border: 1px solid var(--border);
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .meals-composition {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      align-items: center;
    }

    .meals-pie-chart {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: conic-gradient(#94d5f5 0deg 108deg, #6366f1 108deg 216deg, #0ea5e9 216deg 360deg);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .meals-pie-chart::after {
      content: '';
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #fff;
    }

    .meals-legend {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .meals-legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--text);
    }

    .meals-legend-color {
      width: 14px;
      height: 14px;
      border-radius: 3px;
      flex-shrink: 0;
    }

    @media (prefers-color-scheme: dark) {
      .stat-card {
        background: #0f172a;
        border-color: #1f2937;
      }

      .trend-item {
        background: #1f2937;
      }

      .stat-card-title, .composition-label {
        color: #e5e7eb;
      }

      .legend-item, .trend-label, .composition-value {
        color: #a3adc2;
      }
    }
    /* Mobile-specific adjustments to make charts and layout consistent */
    @media (max-width: 767px) {
      .title { font-size: 28px; }
      .home-title { font-size: 22px; }
      .wrap { padding: 18px 14px 20px; }
      .stat-card { padding: 14px; }
      .chart-wrapper { min-height: 120px; }
      .bar-chart { gap: 10px; height: 140px; }
      .carousel-item { flex: 0 0 180px; height: 140px; }
      .bar { gap: 6px; }
      .bar-fill { width: 22px; }
      .bar-value { font-size: 11px; }
      .pie-chart { width: 110px; height: 110px; }
      .pie-chart::after { width: 70px; height: 70px; }
      body.is-home-view .home-header { padding: 14px 18px; }
    }
            .dashboard-sketch-grid {
              display: grid;
              grid-template-columns: 1fr;
              gap: 20px;
              margin-top: 24px;
              grid-column: 1 / -1;
            }
            .sketch-col { display: flex; flex-direction: column; gap: 20px; }
            .sketch-title { font-size: 16px; font-weight: 700; margin: 0 0 12px 0; color: var(--text); }
            .sketch-card { background: #fff; border: 1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); height: 100%; display: flex; flex-direction: column; }
            
            /* Profil */
            .profile-content { display: flex; align-items: center; gap: 16px; justify-content: center; text-align: center; }
            .profile-avatar-sketch { width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--text); display: flex; align-items: center; justify-content: center; font-size: 40px; }
            .profile-text { text-align: center; }
            .profile-congrats { font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 4px; }
            .profile-rank-big { font-size: 32px; font-weight: 800; line-height: 1; color: var(--text); }
            
            /* Infos Coureur */
            .infos-grid { display: flex; gap: 16px; height: 100%; }
            .objectives-col { flex: 1; display: flex; flex-direction: column; gap: 8px; }
            .obj-item { display: flex; align-items: center; gap: 8px; font-size: 13px; color: var(--text); cursor: pointer; }
            .circuits-col { flex: 1; display: flex; flex-direction: column; justify-content: flex-end; }
            .circuits-carousel-sketch { display: flex; gap: -10px; }
            .circuit-card { width: 40px; height: 60px; background: #fff; border: 1px solid var(--text); transform: rotate(-5deg); margin-right: -10px; transition: transform 0.2s; }
            .circuit-card:nth-child(2) { transform: rotate(0deg); z-index: 1; margin-bottom: 4px; }
            .circuit-card:nth-child(3) { transform: rotate(5deg); }
            
            /* Poids & Alimentation */
            .weight-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
            .weight-val { font-size: 42px; font-weight: 800; line-height: 1; }
            .weight-unit { font-size: 16px; font-weight: 400; color: var(--muted); }
            .weight-chart-sketch { flex: 1; height: 80px; margin-left: 16px; overflow: hidden; }
            .weight-chart-sketch .line-chart { height: 100%; }
            
            .meals-row { display: flex; align-items: center; gap: 16px; margin-top: auto; }
            .meals-pie-sketch { width: 120px; height: 120px; flex-shrink: 0; }
            .pie-chart.small-pie::after { width: 70px; height: 70px; }
            .meals-legend-sketch { list-style: none; padding: 0; margin: 0; font-size: 12px; }
            .meals-legend-sketch li { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; }
            .dot { width: 8px; height: 8px; border-radius: 50%; }
            
            /* RÃ©cupÃ©ration */
            .video-block { margin-bottom: 20px; flex: 1; display: flex; flex-direction: column; }
            .video-box { background: #fff; border: 1px solid var(--text); border-radius: 4px; height: 100px; display: flex; align-items: flex-end; padding: 8px; position: relative; margin-top: 8px; }
            .video-controls { width: 100%; display: flex; align-items: center; gap: 8px; }
            .play-icon { font-size: 16px; }
            .progress-bar { flex: 1; height: 4px; background: #e5e7eb; border-radius: 2px; }
            .video-desc { font-size: 11px; color: var(--muted); margin-top: 4px; }
            
            /* Dark mode overrides */
            @media (prefers-color-scheme: dark) {
              .sketch-card { background: #0f172a; border-color: #1f2937; }
              .profile-avatar-sketch { border-color: #e5e7eb; }
              .circuit-card { background: #1f2937; border-color: #e5e7eb; }
              .video-box { background: #1f2937; border-color: #e5e7eb; }
            }
            /* Force light mode on PC home view */
            body.is-home-view .sketch-card { background: #fff !important; border-color: var(--border) !important; color: var(--text) !important; }
            body.is-home-view .profile-avatar-sketch { border-color: var(--text) !important; }
            body.is-home-view .circuit-card { background-color: #fff !important; border-color: var(--text) !important; }
            body.is-home-view .video-box { background: #fff !important; border-color: var(--text) !important; }
