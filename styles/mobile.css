    :root{
      --bg:#0b0f14;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --primary:#0ea5e9;
      --primary-dark:#0284c7;
      --primary-ink:#0b4660;
      --focus:#bae6fd;
      --border:#e2e8f0;
      --success:#22c55e;
      --warning:#f59e0b;
      --danger:#ef4444;
      --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
      --shadow-xl: 0 20px 40px rgba(0,0,0,0.2);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --transition: all 0.2s ease;
    }
    *{box-sizing:border-box}
    html,body{height:100%}

    /* Skip link pour accessibilité */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--primary);
      color: #fff;
      padding: 8px 16px;
      z-index: 10000;
      text-decoration: none;
      font-weight: 600;
      border-radius: 0 0 var(--radius-sm) var(--radius-sm);
    }
    .skip-link:focus {
      top: 0;
    }

    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text);
      background-image: url('https://images.unsplash.com/photo-1551632811-561732d1e306?auto=format&fit=crop&w=1920&q=80');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      display:block; padding:0;
      position: relative;
    }
    #bg-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.28);
      pointer-events: none;
      z-index: 0;
    }
    .phone{
      width: 100%;
      min-height: 100vh;
      border: none;
      border-radius: 0;
      background: transparent;
      box-shadow: none;
      padding: 0;
      position: relative;
      z-index: 2;
      aspect-ratio: auto;
    }
    .notch{ display: none; }
    .screen{
      position: relative;
      inset: 0;
      background: transparent;
      border-radius: 0;
      overflow: visible;
      min-height: 100vh;
    }
    .screen::-webkit-scrollbar{ display:none }
    .wrap{ min-height:100%; padding:28px 22px 20px; display:flex; flex-direction:column; align-items:center; gap:22px; }
    .brand{ text-align:center; }
    .logo{ width:56px; height:56px; border-radius:14px; background:conic-gradient(from 210deg, var(--primary), #22c55e); display:grid; place-items:center; color:#fff; font-weight:800; letter-spacing:0.5px; }
    .logo-img { width: 90px; height: 90px; margin-bottom: 12px; display: block; margin-left: auto; margin-right: auto; border-radius: var(--radius-lg); object-fit: cover; box-shadow: var(--shadow-lg); }
    .title{ font-size:42px; line-height:1; margin:12px 0 8px; font-weight:800; color: #fff; text-shadow: 0 4px 16px rgba(0,0,0,0.4); letter-spacing: -0.5px; }
    .subtitle{ font-size:14px; color: #e5e7eb; max-width:28ch; margin:0 auto; text-shadow: 0 2px 8px rgba(0,0,0,0.4); line-height: 1.5; }
    form{ width:100%; max-width:340px; display:flex; flex-direction:column; gap:16px; }
    label{ font-size:13px; color: #f1f5f9; margin-left:4px; text-shadow: 0 1px 3px rgba(0,0,0,0.5); font-weight: 500; }
    .field{ position:relative; }
    .input{
      width:100%; padding:14px 16px; padding-right: 44px; border:2px solid var(--border); border-radius:var(--radius-md); background:#fff; color:var(--text);
      outline:none; transition: var(--transition);
      font-size: 15px;
    }
    .input::placeholder{ color:#94a3b8 }
    .input:hover{ border-color: #cbd5e1; }
    .input:focus{ border-color:var(--primary); box-shadow: 0 0 0 4px var(--focus); background: #f8fafc; }
    .input-wrapper { position: relative; }
    .toggle-pass{ position:absolute; right: 0; top: 0; bottom: 0; width: 40px; display:flex; align-items:center; justify-content:center; border:0; background:transparent; cursor:pointer; color:var(--muted); padding: 0; }
    .hidden { display: none !important; }
    .switch-auth { font-size: 12px; color: #fff; text-align: center; margin-top: 16px; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
    .switch-auth a { color: #fff; text-decoration: underline; font-weight: 600; }
    .switch-auth a:hover { text-decoration: none; }
    select.input { appearance: none; background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%235b6578%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E"); background-repeat: no-repeat; background-position: right .7em top 50%; background-size: .65em auto; }
    .btn{
      appearance:none; border:0; background:linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color:#fff; font-weight:700; padding:14px 20px; border-radius:var(--radius-md); cursor:pointer; 
      box-shadow: 0 4px 14px rgba(14, 165, 233, 0.4); 
      transition: all 0.25s ease;
      font-size: 15px;
      letter-spacing: 0.3px;
    }
    .btn:hover{ 
      transform: translateY(-2px); 
      box-shadow: 0 6px 20px rgba(14, 165, 233, 0.5);
      background: linear-gradient(135deg, #38bdf8 0%, var(--primary) 100%);
    }
    .btn:active{ transform:translateY(0); box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3); }
    .chips{ display:flex; gap:8px; justify-content:center; margin-top:2px; }
    .chip{ padding:6px 10px; border:1px dashed var(--border); border-radius:10px; font-size:11px; color:var(--muted); background:#fff; }
    .tagline{ text-align:center; color: #e5e7eb; font-size:13px; max-width:26ch; text-shadow: 0 1px 4px rgba(0,0,0,0.5); }
    .legal{ text-align:center; font-size:11px; color: #d1d5db; max-width:34ch; margin-top:auto; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
    .legal a{ color: #fff; text-decoration:none; border-bottom:1px solid rgba(255,255,255,0.5); }
    .legal a:hover{ border-bottom-color:currentColor }
    .social-links { display: flex; gap: 20px; justify-content: center; margin-top: 16px; }
    .social-links a { 
      display: flex; 
      align-items: center; 
      justify-content: center;
      width: 44px;
      height: 44px;
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border-radius: 50%;
      transition: var(--transition);
    }
    .social-links a:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-3px);
    }
    .social-icon { width: 22px; height: 22px; fill: #fff; transition: var(--transition); }
    .social-icon:hover { fill: #fff; }
    @media (prefers-color-scheme: dark){
      .screen{ background:linear-gradient(#0b1220, #0d1424) }
      .title, .tagline{ color:#e5e7eb }
      .subtitle, .legal{ color:#a3adc2 }
      .input{ background:#0f172a; border-color:#1f2937; color:#e5e7eb }
      .input::placeholder{ color:#8fa0b4 }
      .chip{ background:#0f172a; border-color:#1f2937; color:#9db0c6 }
      .social-icon { fill: #9db0c6; }
    }
    
    /* Styles pour la Page 1 (Accueil/Dashboard) */
    .home-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      width: 100%;
      margin-bottom: 20px;
    }
    .home-title {
      font-size: 28px;
      font-weight: 800;
      margin: 0 0 4px 0;
      color: #fff;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    }
    .home-subtitle {
      font-size: 12px;
      color: #e5e7eb;
      margin: 0;
      max-width: 200px;
      text-shadow: 0 1px 4px rgba(0,0,0,0.5);
    }
    .menu-btn {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: var(--radius-md);
      cursor: pointer;
      padding: 10px;
      color: #fff;
      transition: var(--transition);
    }
    .menu-btn:hover {
      background: rgba(255,255,255,0.25);
      transform: scale(1.05);
    }
    .menu-panel {
      position: absolute;
      top: 60px;
      right: 16px;
      background: rgba(255,255,255,0.98);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 24px;
      box-shadow: var(--shadow-xl);
      min-width: 260px;
      z-index: 100;
      animation: slideDown 0.25s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .menu-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text);
      margin: 0 0 16px 0;
      text-align: center;
    }

    .menu-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .menu-item {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      position: relative;
    }

    .menu-item:last-child {
      margin-bottom: 0;
    }

    .menu-number {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: #fff;
      font-size: 13px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      flex-shrink: 0;
      border-radius: 50%;
      box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3);
    }

    .menu-item a {
      flex: 1;
      padding: 12px 18px;
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      text-decoration: none;
      color: var(--text);
      font-size: 14px;
      font-weight: 600;
      transition: var(--transition);
    }

    .menu-item a:hover {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
      transform: translateX(4px);
    }

    /* Lignes décoratives du menu (style wireframe) */
    .menu-item::before {
      content: '';
      position: absolute;
      right: -20px;
      top: 50%;
      width: 20px;
      height: 1px;
      background: var(--border);
    }
    
    /* Fond visible (laisse voir l'image de body) pour la page d'accueil */
    #view-home {
      background-color: transparent;
      min-height: 100%;
      color: #0f172a;
    }

    /* ========================================
       PAGE CONSEILS - Styles améliorés
       ======================================== */
    
    .advice-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      margin-bottom: 24px;
      padding: 0 4px;
    }

    .advice-back-btn {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: var(--radius-md);
      cursor: pointer;
      padding: 10px;
      color: #fff;
      transition: var(--transition);
    }

    .advice-back-btn:hover {
      background: rgba(255,255,255,0.25);
      transform: scale(1.05);
    }

    .advice-title {
      font-size: 26px;
      font-weight: 800;
      text-align: center;
      margin: 0;
      color: #fff;
      text-shadow: 0 2px 12px rgba(0,0,0,0.5);
      letter-spacing: -0.3px;
    }

    /* Filtres par catégorie */
    .advice-filter {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      padding: 8px 0 24px;
    }

    .filter-btn {
      flex-shrink: 0;
      padding: 10px 20px;
      background: rgba(255,255,255,0.95);
      border: 2px solid transparent;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      color: var(--text);
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
    }

    .filter-btn:hover {
      background: #fff;
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .filter-btn.active {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
      box-shadow: 0 4px 14px rgba(14, 165, 233, 0.4);
    }

    /* Grille de cartes conseils */
    .advice-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      padding-bottom: 30px;
      width: 100%;
    }

    .advice-card {
      background: #fff;
      border-radius: var(--radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
    }

    .advice-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-xl);
    }

    .advice-card.hidden {
      display: none;
    }

    .advice-card-image {
      position: relative;
      width: 100%;
      height: 180px;
      overflow: hidden;
    }

    .advice-card-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .advice-card:hover .advice-card-image img {
      transform: scale(1.08);
    }

    .advice-card-badge {
      position: absolute;
      top: 14px;
      left: 14px;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(8px);
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
      color: var(--text);
      box-shadow: var(--shadow-sm);
    }

    .advice-card-content {
      padding: 20px;
    }

    .advice-card-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
      margin: 0 0 10px;
      line-height: 1.3;
    }

    .advice-card-text {
      font-size: 14px;
      color: var(--muted);
      margin: 0 0 16px;
      line-height: 1.6;
    }

    .advice-card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 12px;
      border-top: 1px solid var(--border);
    }

    .advice-card-time {
      font-size: 13px;
      color: var(--muted);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .advice-card-btn {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border: none;
      color: #fff;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      padding: 8px 16px;
      border-radius: 20px;
      transition: var(--transition);
      box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3);
    }

    .advice-card-btn:hover {
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.4);
    }

    /* Responsive: 2 colonnes sur tablette */
    @media (min-width: 500px) {
      .advice-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 24px;
      }
    }

    /* Styles pour la page Dashboard */
    .dashboard-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      width: 100%;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      width: 100%;
    }

    .dashboard-back-btn {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      color: var(--text);
    }

    .dashboard-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text);
      margin: 0;
    }

    /* ========================================
       PAGE MON PROFIL - Mobile Styles
       ======================================== */

    .profile-page {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      padding: 20px 16px;
    }

    .profile-avatar-section {
      width: 100%;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      padding: 32px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 24px;
      box-shadow: var(--shadow-sm);
    }

    .profile-avatar-box {
      width: 130px;
      height: 130px;
      border: 3px solid var(--primary);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #fff;
      box-shadow: 0 8px 24px rgba(14, 165, 233, 0.2);
      transition: var(--transition);
    }

    .profile-avatar-box:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 32px rgba(14, 165, 233, 0.3);
    }

    .profile-avatar-icon {
      font-size: 70px;
      line-height: 1;
    }

    .profile-info-section {
      width: 100%;
      margin-bottom: 20px;
    }

    .profile-info-card {
      background: #fff;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px 24px;
      box-shadow: var(--shadow-sm);
    }

    .profile-info-row {
      padding: 14px 0;
      border-bottom: 1px solid var(--border);
      transition: var(--transition);
    }

    .profile-info-row:hover {
      background: #f8fafc;
      margin: 0 -24px;
      padding-left: 24px;
      padding-right: 24px;
    }

    .profile-info-row:last-child {
      border-bottom: none;
    }

    .profile-info-label {
      display: block;
      font-size: 13px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .profile-info-value {
      display: block;
      font-size: 15px;
      color: var(--text);
      font-weight: 500;
    }

    .profile-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      margin-top: auto;
      padding: 16px 0;
    }

    .profile-btn {
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      border: 2px solid transparent;
      border-radius: var(--radius-md);
      transition: var(--transition);
    }

    .profile-btn-back {
      background: #f1f5f9;
      color: var(--text);
      border-color: var(--border);
    }

    .profile-btn-back:hover {
      background: #e2e8f0;
      transform: translateX(-4px);
    }

    .profile-btn-logout {
      background: #fff;
      color: var(--danger);
      border-color: var(--danger);
    }

    .profile-btn-logout:hover {
      background: var(--danger);
      color: #fff;
    }

    .dashboard-card {
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .dashboard-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .dashboard-card-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
    }

    .dashboard-card-arrow {
      color: var(--muted);
      font-size: 16px;
    }

    .dashboard-objectives {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .dashboard-objective-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: var(--text);
    }

    .dashboard-objective-checkbox {
      width: 16px;
      height: 16px;
      border: 2px solid var(--border);
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .dashboard-circuits {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 8px 0;
    }

    .dashboard-circuits::-webkit-scrollbar {
      display: none;
    }

    .dashboard-circuit-item {
      flex: 0 0 70px;
      height: 70px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border: 1px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .dashboard-runner-avatar {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border: 2px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
    }

    .dashboard-runner-info {
      flex: 1;
    }

    .dashboard-runner-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
    }

    .dashboard-runner-subtitle {
      font-size: 12px;
      color: var(--muted);
    }

    .dashboard-runner-level {
      font-size: 20px;
      font-weight: 800;
      color: var(--primary);
      line-height: 1;
    }

    .dashboard-section-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 20px;
    }

    .dashboard-video-placeholder {
      width: 100%;
      height: 150px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border: 1px solid var(--border);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .dashboard-video-icon {
      width: 40px;
      height: 40px;
      background: rgba(0,0,0,0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--muted);
    }

    .dashboard-video-controls {
      position: absolute;
      bottom: 8px;
      left: 8px;
      right: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
    }

    .dashboard-video-slider {
      flex: 1;
      height: 4px;
      background: var(--border);
      border-radius: 2px;
      cursor: pointer;
    }

    .dashboard-video-time {
      color: var(--muted);
      font-size: 10px;
    }

    @media (prefers-color-scheme: dark) {
      .dashboard-card {
        background: #0f172a;
        border-color: #1f2937;
      }

      .dashboard-circuit-item,
      .dashboard-runner-avatar,
      .dashboard-video-placeholder {
        background: linear-gradient(135deg, #1f2937, #111827);
      }

      .dashboard-title {
        color: #e5e7eb;
      }

      .dashboard-card-title {
        color: #e5e7eb;
      }
    }

    /* Styles pour les graphiques */
    .stats-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 24px;
      margin-top: 24px;
    }

      .stat-card {
      position: relative;
      background: #fff;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 24px;
      box-shadow: var(--shadow-md);
      display:flex; flex-direction:column; justify-content:flex-start;
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .stat-card-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .chart-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 220px;
    }

    /* Card arrow (top-right) */
    .card-arrow {
      position: absolute;
      top: 12px;
      right: 12px;
      color: var(--muted);
      font-size: 18px;
      cursor: pointer;
    }

    .stat-explanation {
      font-size: 12px;
      color: var(--muted);
      line-height: 1.4;
      margin-top: 12px;
      max-height: 6.4em;
      overflow: hidden;
    }

    /* Section Réseaux sociaux (mobile) */
    .social-section {
      display: none; /* Hidden on mobile by default */
    }

    /* Section basse dashboard (mobile) */
    .dashboard-lower {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-top: 20px;
    }

    .dashboard-col {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .dash-card {
      background: #fff;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 20px;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .dash-card:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    .dash-card-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
      margin: 0 0 12px 0;
    }

    .dash-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .dash-arrow {
      color: var(--muted);
    }

    /* Sport prouesse */
    .sport-prouesse {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .prouesse-avatar {
      width: 60px;
      height: 60px;
      border: 2px solid var(--border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
    }

    .prouesse-info {
      font-size: 11px;
    }

    .prouesse-congrats {
      font-weight: 700;
      color: #f59e0b;
    }

    .prouesse-rank {
      font-size: 28px;
      font-weight: 800;
      line-height: 1;
    }

    /* Objectifs */
    .objectifs-title {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .objectifs-title span {
      font-weight: 400;
      font-size: 10px;
    }

    .objectifs-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .objectifs-list label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
    }

    /* Circuits */
    .circuits-preview {
      display: flex;
      gap: 8px;
    }

    .circuit-thumb {
      width: 100%;
      height: 60px;
      background-size: cover;
      background-position: center;
      border-radius: 8px;
    }

    /* Poids */
    .poids-section {
      text-align: center;
      padding: 12px 0;
    }

    .poids-label {
      font-size: 12px;
      font-weight: 700;
    }

    .poids-number {
      font-size: 36px;
      font-weight: 800;
    }

    .poids-unit {
      font-size: 14px;
      color: var(--muted);
    }

    /* Repas */
    .repas-title {
      font-size: 11px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .repas-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .repas-legend {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .repas-legend li {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      margin-bottom: 4px;
    }

    .repas-legend .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    /* Récupération */
    .recup-block {
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }

    .recup-block:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    .recup-subtitle {
      font-size: 12px;
      font-weight: 700;
    }

    .recup-desc {
      font-size: 10px;
      color: var(--muted);
      margin: 4px 0 8px;
    }

    .video-placeholder {
      background: #e5e7eb;
      border-radius: 8px;
      height: 80px;
      display: flex;
      align-items: flex-end;
      padding: 8px;
    }

    .video-controls {
      display: flex;
      align-items: center;
      gap: 6px;
      width: 100%;
      background: rgba(0,0,0,0.5);
      padding: 4px 8px;
      border-radius: 4px;
    }

    .video-play {
      color: #fff;
      font-size: 10px;
    }

    .video-progress {
      flex: 1;
      height: 3px;
      background: #666;
      border-radius: 2px;
    }

    .video-volume {
      font-size: 10px;
    }

    /* Line chart (SVG) */
    .line-chart { width: 100%; height: 220px; }
    .line-chart svg { width: 100%; height: 100%; overflow: visible; }
    .line-chart .grid { stroke: rgba(15,23,42,0.06); stroke-width:1; }
    .line-chart .line { fill: none; stroke: rgba(15,23,42,0.12); stroke-width:10; stroke-linecap:round; stroke-linejoin:round; }
    .line-chart .line-foreground { fill: none; stroke: var(--primary); stroke-width:3; stroke-linecap:round; stroke-linejoin:round; }

    /* Force cards to be light on the home fullscreen view (match wireframe) */
    body.is-home-view .stat-card,
    body.is-home-view .dashboard-card,
    body.is-home-view .dash-card,
    body.is-home-view .stat-card .meals-header,
    body.is-home-view .dashboard-lower .dashboard-card {
      background: #fff !important;
      color: var(--text) !important;
      border-color: var(--border) !important;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05) !important;
    }

    /* Force text colors to be dark on PC view (fix for dark mode leak) */
    body.is-home-view .stat-card-title,
    body.is-home-view .composition-label,
    body.is-home-view .bar-value,
    body.is-home-view .legend-item,
    body.is-home-view .trend-value {
      color: var(--text) !important;
    }

    body.is-home-view .stat-explanation,
    body.is-home-view .bar-label,
    body.is-home-view .trend-label,
    body.is-home-view .trend-unit {
      color: #4b5563 !important; /* Darker gray */
    }

    /* ensure small pie & line charts contrast on white cards */
    body.is-home-view .pie-chart::after { background: #fff; }
    body.is-home-view .line-chart .line { stroke: rgba(15,23,42,0.08); stroke-width:6; }
    body.is-home-view .line-chart .line-foreground { stroke: var(--primary); stroke-width:2.5; }

    /* Responsive: stack lower dashboard on small screens */
    @media (max-width: 767px) {
      .dashboard-lower { grid-template-columns: 1fr !important; }
      .dashboard-lower > div { width: 100%; }
    }

    /* Show social section on larger screens */
    @media (min-width: 768px) {
      .social-section {
        display: flex;
      }
    }

    /* Graphique en barres */
    .bar-chart {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 16px;
      height: 200px;
      width: 100%;
    }

    .bar {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .bar-value {
      font-size: 12px;
      font-weight: 600;
      color: var(--text);
      text-align: center;
    }

    .bar-fill {
      width: 32px;
      border-radius: 8px 8px 0 0;
      background: linear-gradient(180deg, #0ea5e9, #0284c7);
      transition: all 0.3s ease;
    }

    .bar-fill:hover {
      opacity: 0.8;
    }

    .bar-fill.alt {
      background: linear-gradient(180deg, #94d5f5, #0ea5e9);
    }

    .bar-label {
      font-size: 11px;
      color: var(--muted);
      text-align: center;
    }

    /* Graphique camembert */
    .pie-chart {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      background: conic-gradient(#94d5f5 0deg 79deg, #0ea5e9 79deg 216deg, #6366f1 216deg 360deg);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
    }

    .pie-chart::after {
      content: '';
      width: 90px;
      height: 90px;
      border-radius: 50%;
      background: #fff;
    }

    /* Reusable utility classes for dashboard lower area */
    .dashboard-avatar-large { width:96px; height:96px; font-size:40px; border-radius:12px; }
    .profile-row { display:flex; gap:12px; align-items:center; }
    .profile-title { font-size:18px; font-weight:700; color:var(--text); }
    .profile-rank { font-size:24px; font-weight:800; color:var(--text); }
    .profile-sub { font-size:12px; color:var(--muted); }
    .card-hr { border:none; border-top:1px solid var(--border); margin:12px 0; }
    .mini-line { width:120px; height:60px; }
    .meals-pie-small { width:72px; height:72px; }
    .video-placeholder-small { flex:1; background:linear-gradient(135deg,#e5e7eb,#f3f4f6); border-radius:8px; border:1px solid var(--border); }

    .pie-legend {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--text);
    }

    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
    }

    .trend-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 20px;
    }

    .trend-item {
      background: #f3f4f6;
      padding: 12px;
      border-radius: 12px;
      text-align: center;
    }

    .trend-label {
      font-size: 11px;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .trend-value {
      font-size: 20px;
      font-weight: 800;
      color: var(--text);
    }

    .trend-unit {
      font-size: 10px;
      color: var(--muted);
      margin-left: 2px;
    }

    .composition-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .composition-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .composition-label {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text);
      font-weight: 500;
    }

    .composition-value {
      font-weight: 700;
      color: var(--primary);
    }

    .color-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    /* Section Mes petits plats */
    .meals-section {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 24px;
      padding: 0;
      width: 100%;
    }

    .meals-header {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 16px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 16px;
    }

    .meals-arrow {
      color: var(--muted);
      font-size: 20px;
    }

    .meals-carousel {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding: 12px 0;
      scroll-snap-type: x mandatory;
      scrollbar-width: none;
      margin-bottom: 20px;
    }

    .meals-carousel::-webkit-scrollbar {
      display: none;
    }

    .meals-item {
      flex: 0 0 100px;
      height: 100px;
      background: linear-gradient(135deg, #e5e7eb, #f3f4f6);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      scroll-snap-align: center;
      font-size: 12px;
      color: var(--muted);
      text-align: center;
      padding: 8px;
      border: 1px solid var(--border);
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .meals-composition {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      align-items: center;
    }

    .meals-pie-chart {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: conic-gradient(#94d5f5 0deg 108deg, #6366f1 108deg 216deg, #0ea5e9 216deg 360deg);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .meals-pie-chart::after {
      content: '';
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #fff;
    }

    .meals-legend {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .meals-legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--text);
    }

    .meals-legend-color {
      width: 14px;
      height: 14px;
      border-radius: 3px;
      flex-shrink: 0;
    }

    @media (prefers-color-scheme: dark) {
      .stat-card {
        background: #0f172a;
        border-color: #1f2937;
      }

      .trend-item {
        background: #1f2937;
      }

      .stat-card-title, .composition-label {
        color: #e5e7eb;
      }

      .legend-item, .trend-label, .composition-value {
        color: #a3adc2;
      }
    }
    /* Mobile-specific adjustments to make charts and layout consistent */
    @media (max-width: 767px) {
      .title { font-size: 28px; }
      .home-title { font-size: 22px; }
      .wrap { padding: 18px 14px 20px; }
      .stat-card { padding: 14px; }
      .chart-wrapper { min-height: 120px; }
      .bar-chart { gap: 10px; height: 140px; }
      .carousel-item { flex: 0 0 180px; height: 140px; }
      .bar { gap: 6px; }
      .bar-fill { width: 22px; }
      .bar-value { font-size: 11px; }
      .pie-chart { width: 110px; height: 110px; }
      .pie-chart::after { width: 70px; height: 70px; }
      body.is-home-view .home-header { padding: 14px 18px; }
    }
            .dashboard-sketch-grid {
              display: grid;
              grid-template-columns: 1fr;
              gap: 20px;
              margin-top: 24px;
              grid-column: 1 / -1;
            }
            .sketch-col { display: flex; flex-direction: column; gap: 20px; }
            .sketch-title { font-size: 16px; font-weight: 700; margin: 0 0 12px 0; color: var(--text); }
            .sketch-card { background: #fff; border: 1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); height: 100%; display: flex; flex-direction: column; }
            
            /* Profil */
            .profile-content { display: flex; align-items: center; gap: 16px; justify-content: center; text-align: center; }
            .profile-avatar-sketch { width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--text); display: flex; align-items: center; justify-content: center; font-size: 40px; }
            .profile-text { text-align: center; }
            .profile-congrats { font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 4px; }
            .profile-rank-big { font-size: 32px; font-weight: 800; line-height: 1; color: var(--text); }
            
            /* Infos Coureur */
            .infos-grid { display: flex; gap: 16px; height: 100%; }
            .objectives-col { flex: 1; display: flex; flex-direction: column; gap: 8px; }
            .obj-item { display: flex; align-items: center; gap: 8px; font-size: 13px; color: var(--text); cursor: pointer; }
            .circuits-col { flex: 1; display: flex; flex-direction: column; justify-content: flex-end; }
            .circuits-carousel-sketch { display: flex; }
            .circuit-card { width: 40px; height: 60px; background: #fff; border: 1px solid var(--text); transform: rotate(-5deg); margin-right: -10px; transition: transform 0.2s; }
            .circuit-card:nth-child(2) { transform: rotate(0deg); z-index: 1; margin-bottom: 4px; }
            .circuit-card:nth-child(3) { transform: rotate(5deg); }
            
            /* Poids & Alimentation */
            .weight-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
            .weight-val { font-size: 42px; font-weight: 800; line-height: 1; }
            .weight-unit { font-size: 16px; font-weight: 400; color: var(--muted); }
            .weight-chart-sketch { flex: 1; height: 80px; margin-left: 16px; overflow: hidden; }
            .weight-chart-sketch .line-chart { height: 100%; }
            
            .meals-row { display: flex; align-items: center; gap: 16px; margin-top: auto; }
            .meals-pie-sketch { width: 120px; height: 120px; flex-shrink: 0; }
            .pie-chart.small-pie::after { width: 70px; height: 70px; }
            .meals-legend-sketch { list-style: none; padding: 0; margin: 0; font-size: 12px; }
            .meals-legend-sketch li { display: flex; align-items: center; gap: 6px; margin-bottom: 4px; }
            .dot { width: 8px; height: 8px; border-radius: 50%; }
            
            /* Récupération */
            .video-block { margin-bottom: 20px; flex: 1; display: flex; flex-direction: column; }
            .video-box { background: #fff; border: 1px solid var(--text); border-radius: 4px; height: 100px; display: flex; align-items: flex-end; padding: 8px; position: relative; margin-top: 8px; }
            .video-controls { width: 100%; display: flex; align-items: center; gap: 8px; }
            .play-icon { font-size: 16px; }
            .progress-bar { flex: 1; height: 4px; background: #e5e7eb; border-radius: 2px; }
            .video-desc { font-size: 11px; color: var(--muted); margin-top: 4px; }
            
            /* Dark mode overrides */
            @media (prefers-color-scheme: dark) {
              .sketch-card { background: #0f172a; border-color: #1f2937; }
              .profile-avatar-sketch { border-color: #e5e7eb; }
              .circuit-card { background: #1f2937; border-color: #e5e7eb; }
              .video-box { background: #1f2937; border-color: #e5e7eb; }
            }
            /* Force light mode on PC home view */
            body.is-home-view .sketch-card { background: #fff !important; border-color: var(--border) !important; color: var(--text) !important; }
            body.is-home-view .profile-avatar-sketch { border-color: var(--text) !important; }
            body.is-home-view .circuit-card { background-color: #fff !important; border-color: var(--text) !important; }
            body.is-home-view .video-box { background: #fff !important; border-color: var(--text) !important; }

            /* Styles pour les Conseils Personnalis�s (moved from inline) */
            #conseilsPage { display: none; width: 100%; max-width: 900px; margin: 0 auto; padding: 20px; }
            .conseils-wrapper { background: white; border-radius: 16px; padding: 30px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); }
            .conseils-title { font-size: 36px; font-weight: 800; margin: 0 0 10px 0; color: var(--primary); text-align: center; }
            .conseils-subtitle { font-size: 14px; color: var(--muted); text-align: center; margin-bottom: 30px; }
            .conseils-dropdown-wrapper { margin-bottom: 30px; }
            .conseils-dropdown-container { position: relative; display: inline-block; width: 100%; max-width: 350px; margin: 0 auto; display: block; }
            .conseils-dropdown-btn { appearance: none; width: 100%; padding: 12px 16px; border: 1px solid var(--border); border-radius: 12px; background: white; cursor: pointer; font-weight: 600; text-align: left; display: flex; justify-content: space-between; align-items: center; }
            #conseilsDropdown { display: none; position: absolute; top: 100%; left: 0; right: 0; background: white; border: 1px solid var(--border); border-top: none; border-radius: 0 0 12px 12px; z-index: 100; }
            .conseils-dropdown-item { padding: 12px 16px; cursor: pointer; border-left: 4px solid transparent; transition: all 0.2s ease; }
            .conseils-dropdown-item:hover { border-left-color: var(--primary); background-color: #f3f4f6; }
            #conseilsGrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
            .conseil-item { background: #f9fafb; border-left: 4px solid #0ea5e9; border-radius: 12px; padding: 20px; }
            .conseil-title { margin: 0 0 10px 0; font-size: 16px; font-weight: 800; color: var(--text); }
            .conseil-desc { font-size: 13px; color: var(--muted); margin: 0 0 12px 0; }
            .conseil-content { font-size: 12px; line-height: 1.6; color: var(--text); }
            .conseil-content strong { color: var(--primary); }
